name: "Authenticate org"
description: "Authenticate a Salesforce org"
inputs:
  auth-url:
    description: "The auth URL for use with sf org login"
    required: true
  alias:
    description: "Alias for the authenticated org"
    default: ""
    required: false
  set-default-username:
    description: "Set the authenticated org as the default username that all commands run against."
    default: "false"
    required: false
  set-default-devhub-username:
    description: "Set the authenticated org as the default dev hub org"
    default: "false"
    required: false
runs:
  using: "composite"
  steps:
    - name: Authenticate org
      run: bash "$GITHUB_ACTION_PATH/scripts/authenticate.sh" 
      shell: bash
      env:
        AUTH_URL: ${{ inputs.auth-url }}
        ALIAS: ${{ inputs.alias }}
        SET_DEFAULT_USERNAME: ${{ inputs.set-default-username }}
        SET_DEFAULT_DEVHUB_USERNAME: ${{ inputs.set-default-devhub-username }}
